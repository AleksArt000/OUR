# basic information about the package
[info] 
name = ninja
version = 1.7.2
type = src
license = Apache License 2.0
url = https://github.com/ninja-build/ninja/archive/v$VERSION.tar.gz

# package description , it can be on multiple lines and we support markdown
[description] 
Ninja is a small build system with a focus on speed. It is designed to have its input files generated by a higher-level build system, and to run builds as fast as possible.

# the dependencies version support operators are: =, '<','>','<=','>='.
[dependencies] 
python2

# the dependencies needed to build the package
[makedeps] 
python-pip

# this is basically a bash script to install the package
[install]
wget $URL
tar -xzvf v$VERSION.tar.gz
cd ninja-$VERSION
./configure.py --bootstrap
./configure.py &&
./ninja ninja_test &&
./ninja_test --gtest_filter=-SubprocessTest.SetWithLots

sudo install -vm755 ninja /usr/bin/ &&
sudo install -vDm644 misc/ninja.vim \
                /usr/share/vim/vim74/syntax/ninja.vim &&
sudo install -vDm644 misc/bash-completion \
                /usr/share/bash-completion/completions/ninja &&
sudo install -vDm644 misc/zsh-completion \
                /usr/share/zsh/site-functions/_ninja

# a script to run after the package is installed
[special] 
echo "Ninja is now installed"

# the locations of the files installed by the package
[locations] 
/usr/bin/ninja
/usr/share/doc/ninja-1.7.2
